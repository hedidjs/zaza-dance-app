# PRD - זזה דאנס (Zaza Dance) אפליקציה

## סטטוס הפרויקט - 16/08/2025

### ✅ שלב 4.1 הושלם: מערכת אימות (Authentication System)
- **אינטגרציה עם Supabase**: הוקמה מערכת אימות מלאה
- **טופס הרשמה מפורט**: שם מלא, אימייל, טלפון, כתובת
- **התחברות/התנתקות**: זרימת אימות מאובטחת
- **מודל משתמש מקיף**: מבנה נתונים מלא למשתמשים
- **ניהול מצב**: Riverpod providers לניהול מצב האימות

### ✅ שלב 4.2 הושלם: סוגי משתמשים ותפקידים
- **תלמיד**: תפקיד ברירת מחדל להרשמות חדשות
- **הורה**: להורים המנהלים חשבונות של ילדים
- **מדריך**: מדריכי ריקוד עם גישה לתוכן
- **מנהל**: זכויות ניהול מלאות במערכת

### ✅ שלב 4.3 הושלם: בקרת גישה מבוססת תפקידים
- **בדיקת תפקידים**: providers לבדיקת הרשאות
- **מדיניות מסד נתונים**: RLS policies לאכיפת בקרת גישה
- **ממשק מותנה**: ממשקים שונים לפי תפקיד המשתמש

### ✅ שלב 5.1 הושלם: ניווט ותפריטים
- **תפריט המבורגר פונקציונלי**: תפריט מלא עם ניווט, משתמש וחשבון
- **ניווט תחתון בכל העמודים**: ניווט עקבי עם אנימציות חלקות
- **מעברי עמודים**: אנימציות slide בין עמודים
- **ממשק RTL**: תמיכה מלאה בעברית וכיוון מימין לשמאל

## תכונות הקיימות

### 🏠 עמוד בית (Home Page)
- עיצוב היפ הופ עם אפקטי נאון
- ניווט מהיר לאזורי האפליקציה
- עדכונים אחרונים ותוכן מומלץ
- ניווט תחתון פונקציונלי

### 🎥 מדריכי ריקוד (Tutorials)
- רשימת מדריכים עם תמונות ממוזערות
- נגן וידאו מובנה
- סינון לפי רמת קושי
- מעקב אחר התקדמות

### 📸 גלריה (Gallery)  
- תמונות וסרטונים מהסטודיו
- סינון לפי תאריך ונושא
- תצוגה מותאמת לגדלי מסך שונים
- אפשרות שיתוף תמונות

### 📢 עדכונים (Updates)
- חדשות ועדכונים מהסטודיו
- הודעות על שיעורים ואירועים
- מערכת התראות (push notifications)
- סינון לפי סוג עדכון

### 🔐 מערכת אימות
- הרשמה עם פרטים מלאים
- התחברות מאובטחת
- ניהול פרופילים
- בקרת גישה לפי תפקידים

## דרישות שיש לממש

### שלב 5.1: ניווט ותפריטים ⏳
- **תפריט המבורגר פונקציונלי**: תפריט עם כל האפשרויות
- **ניווט תחתון בכל העמודים**: ניווט עקבי בכל האפליקציה

### שלב 5.2: שיפור נגן הוידאו ⏳
- **בקרות מלאות**: השהה, הפעל, קדימה, אחורה
- **איכות וידאו**: בחירת איכות מותאמת
- **מסך מלא**: צפייה במסך מלא

### שלב 5.3: עמודי הגדרות ⏳
- **הגדרות התראות**: ניהול התראות push
- **הגדרות פרופיל**: עריכת מידע אישי
- **העדפות כלליות**: נושא, שפה, וכו'

### שלב 6: מערכת ניהול מנהלים ⏳
- **ממשק ניהול מנהלים**: CRUD מלא למשתמשים
- **ניהול תוכן**: העלאת וידאו, תמונות, עדכונים
- **סטטיסטיקות**: מעקב אחר שימוש באפליקציה
- **הרשאות מתקדמות**: ניהול תפקידים והרשאות

## ארכיטקטורה טכנית

### Frontend - Flutter
- **Riverpod**: ניהול מצב reactive
- **Material Design 3**: עיצוב מודרני
- **Google Fonts Assistant**: פונט תומך עברית
- **Flutter Animate**: אנימציות חלקות
- **Video Player**: נגן וידאו מובנה

### Backend - Supabase
- **PostgreSQL**: מסד נתונים relational
- **Auth**: מערכת אימות מובנית
- **Storage**: אחסון קבצים מאובטח
- **Real-time**: עדכונים בזמן אמת
- **RLS**: Row Level Security לבטיחות

### הגדרת הפרויקט
- **Theme**: ערכת צבעים ונאון היפ הופ
- **RTL Support**: תמיכה מלאה בעברית
- **Responsive**: התאמה לגדלי מסך שונים
- **Performance**: אופטימיזציה לביצועים

## מבנה קבצים

```
lib/
├── core/                          # רכיבי ליבה
│   ├── constants/                 # קבועים גלובליים
│   ├── models/                    # מודלי נתונים
│   ├── providers/                 # Riverpod providers
│   └── services/                  # שירותי API
├── features/                      # תכונות האפליקציה
│   ├── auth/                      # מערכת אימות
│   ├── gallery/                   # גלריה
│   ├── home/                      # עמוד בית
│   ├── tutorials/                 # מדריכי ריקוד
│   └── updates/                   # עדכונים
├── shared/                        # רכיבים משותפים
│   └── widgets/                   # widgets לשימוש חוזר
└── main.dart                      # נקודת כניסה לאפליקציה
```

## בטיחות ואבטחה

### אבטחת מסד נתונים
- **Row Level Security**: הופעל על כל הטבלאות
- **בידוד משתמשים**: משתמשים רואים רק את הנתונים שלהם
- **הרשאות מדורגות**: מנהלים ומדריכים עם הרשאות מורחבות
- **מדיניות אחסון**: מדיניות מאובטחת להעלאת קבצים

### אבטחת האפליקציה  
- **ולידציה**: בדיקת תקינות לכל הקלטים
- **אימות אימייל**: בדיקת פורמט אימייל תקין
- **ניקוי קלטים**: ניקוי כל הקלטי משתמשים
- **טיפול בשגיאות**: הודעות שגיאה מקיפות

## ביצועים ואופטימיזציה

### ביצועי UI
- **Lazy Loading**: טעינה עצלה של תמונות וסרטונים
- **Caching**: שמירה במטמון לתוכן שחוזר על עצמו
- **אנימציות**: אנימציות מותאמות ביצועים
- **זיכרון**: ניהול יעיל של זיכרון

### ביצועי רשת
- **דחיסת תמונות**: תמונות ממוטבות לרשת
- **CDN**: הפצת תוכן גלובלית
- **Offline Support**: תמיכה בעבודה ללא אינטרנט
- **Progress Indicators**: אינדיקטורי התקדמות

## בדיקות

### בדיקות ידניות ✅
- בדיקת הרשמה עם קומבינציות שונות של קלטים
- בדיקת זרימת התחברות/התנתקות  
- בדיקת בקרת גישה לפי תפקידים
- בדיקת ולידציה וטיפול בשגיאות

### בדיקות אוטומטיות (מתוכננות)
- Unit tests לשיטות auth service
- Widget tests לטפסי התחברות/הרשמה
- Integration tests לזרימת אימות מלאה

## פריסה לייצור

### הגדרות אבטחה
- שימוש במשתני סביבה למידע רגיש
- הפעלת אימות אימייל לייצור
- הטמעת rate limiting לendpoints של אימות
- שימוש ב-HTTPS לכל התקשורות

### ביצועים
- הטמעת מצבי טעינה נכונים
- caching נתוני משתמש באופן נאות
- אופטימיזציה של שאילתות מסד נתונים
- שימוש ב-connection pooling לתעבורה גבוהה

## מעקב וניטור

### מטריקות ביצועים
- מעקב אחר שיעורי הצלחה/כישלון באימות
- ניטור מגמות הרשמת משתמשים
- לוג אירועי אבטחה וניסיונות כישלון
- הקמת התראות לפעילות חריגה

## הסטוריית גרסאות

### גרסה 2.0.0 (נוכחית)
- ✅ מערכת אימות מלאה
- ✅ סוגי משתמשים ותפקידים
- ✅ בקרת גישה מבוססת תפקידים
- ✅ ממשק היפ הופ עם אפקטי נאון
- ✅ אינטגרציה עם Supabase

### גרסה 1.0.0 (קודמת)
- ממשק בסיסי עם נתונים mock
- עמודי גלריה, מדריכים ועדכונים
- עיצוב ראשוני

## מטרות עתידיות

### טווח קצר (חודש הבא)
- השלמת מערכת הניווט (שלב 5.1)
- שיפור נגן הוידאו (שלב 5.2)  
- יצירת עמודי הגדרות (שלב 5.3)

### טווח בינוני (3 חודשים)
- מערכת ניהול מנהלים מלאה (שלב 6)
- אפליקציית מובייל לפרסום
- מערכת תשלומים לשיעורים

### טווח ארוך (6 חודשים)
- אפליקציית web למנהלים
- מערכת לחברות מרובות
- AI לקטלוג תנועות ריקוד

---

**עדכון אחרון**: 16 באוגוסט 2025  
**גרסה**: 2.0.0  
**סטטוס**: מערכת אימות מושלמת, ממשיכים לשלב 5